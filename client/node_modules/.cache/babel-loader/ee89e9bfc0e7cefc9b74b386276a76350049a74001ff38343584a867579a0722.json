{"ast":null,"code":"import\"../../css/tutor.css\";import React from\"react\";import Img from\"./1.jpg\";import Table from\"../mainLayout/template/table\";import{useParams}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Tutor(){const{tutor_id,subject_name}=useParams();const[isConfirmPrenotationOverlayOpen,setIsConfirmPrenotationOverlayOpen]=React.useState(false);const[selectedTime,setSelectedTime]=React.useState('');const[selectedDay,setSelectedDay]=React.useState('');const[availability,setAvailability]=React.useState([]);const[bookedUp,setBookedUp]=React.useState([]);const[tutorInfo,setTutorInfo]=React.useState([]);const tutorRating=4;const numberOfReviews=27;const bio=\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, \"+\"sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. \"+\"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. \"+\"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. \"+\"Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\";React.useEffect(()=>{getInfoTutor();},[]);// Usa [] per eseguire solo al montaggio\nfunction getInfoTutor(){const url=`http://localhost:3000/teachers/${subject_name}/${tutor_id}`;console.log(\"Fetching from URL:\",url);fetch(url).then(response=>response.json()).then(data=>{console.log(\"Data fetched:\",data);const temp=data.map(item=>({nome:item.nome,cognome:item.cognome,prezzo:item.prezzo,lingua:item.lingua,livello_istruzione:item.livello}));console.log(\"Mapped data:\",temp);setTutorInfo(temp);}).catch(error=>{console.error('Error fetching data',error);});}const handleBookButtonClicked=(time,day)=>{setIsConfirmPrenotationOverlayOpen(!isConfirmPrenotationOverlayOpen);setSelectedTime(time);setSelectedDay(day);};// Verifica se tutorInfo ha dati e se è un array con almeno un elemento\nconst hasTutorInfo=tutorInfo.length>0;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-page-tutor\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"box tutor-box tutor-presentation\",children:/*#__PURE__*/_jsx(\"div\",{className:\"tutor-details\",children:hasTutorInfo?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:Img,alt:\"Tutor\",className:\"tutor-img\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"tutor-name\",children:tutorInfo[0].nome}),/*#__PURE__*/_jsx(\"p\",{className:\"tutor-surname\",children:tutorInfo[0].cognome}),/*#__PURE__*/_jsx(\"div\",{className:\"justify-content-between align-items-center tutor-rating\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ratings\",children:[Array.from({length:5},(_,i)=>/*#__PURE__*/_jsx(\"i\",{className:`fa fa-star ${i<Math.round(tutorRating)?'rating-color':''}`},i)),/*#__PURE__*/_jsxs(\"p\",{className:\"tutor-rating-value\",children:[\"Rating: \",tutorRating,\" (\",numberOfReviews,\" recensioni)\"]})]})}),/*#__PURE__*/_jsxs(\"p\",{className:\"tutor-subject\",children:[\"Materia selezionata: \",/*#__PURE__*/_jsx(\"b\",{children:subject_name})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"tutor-price\",children:[\"Prezzo di una lezione: \",/*#__PURE__*/_jsxs(\"b\",{children:[tutorInfo[0].prezzo,\".00 \\u20AC/h\"]})]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Caricamento informazioni del tutor...\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"box tutor-box tutor-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tutor-competences\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"tutor-title\",children:\"Competenze e lingue\"}),hasTutorInfo&&/*#__PURE__*/_jsxs(\"p\",{className:\"tutor-competences-item\",children:[\"Livello di istruzione: \",tutorInfo[0].livello_istruzione]}),hasTutorInfo&&/*#__PURE__*/_jsxs(\"p\",{className:\"tutor-languages-item\",children:[\"Lingua in cui vengono erogate le lezioni: \",tutorInfo[0].lingua]})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"centered-hr\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tutor-competences\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"tutor-title-bio\",children:\"Descrizione\"}),/*#__PURE__*/_jsx(\"p\",{className:\"tutor-bio\",children:bio})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"centered-hr\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tutor-reservation\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"tutor-title-reservation\",children:\"Disponibilit\\xE0 e prenotazione\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tutor-reservation-table\",children:/*#__PURE__*/_jsx(Table,{schedule:availability,bookedUp:bookedUp,onBookButtonClicked:handleBookButtonClicked})})]})]})]})});}","map":{"version":3,"names":["React","Img","Table","useParams","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Tutor","tutor_id","subject_name","isConfirmPrenotationOverlayOpen","setIsConfirmPrenotationOverlayOpen","useState","selectedTime","setSelectedTime","selectedDay","setSelectedDay","availability","setAvailability","bookedUp","setBookedUp","tutorInfo","setTutorInfo","tutorRating","numberOfReviews","bio","useEffect","getInfoTutor","url","console","log","fetch","then","response","json","data","temp","map","item","nome","cognome","prezzo","lingua","livello_istruzione","livello","catch","error","handleBookButtonClicked","time","day","hasTutorInfo","length","children","className","src","alt","Array","from","_","i","Math","round","schedule","onBookButtonClicked"],"sources":["/Users/matteofranchini/Documents/GitHub/piattaforma_tutoraggio/client/src/components/pages/tutor.js"],"sourcesContent":["import \"../../css/tutor.css\";\nimport React from \"react\";\nimport Img from \"./1.jpg\";\nimport Table from \"../mainLayout/template/table\";\nimport { useParams } from \"react-router-dom\";\n\nexport default function Tutor() {\n    const { tutor_id, subject_name } = useParams();\n    const [isConfirmPrenotationOverlayOpen, setIsConfirmPrenotationOverlayOpen] = React.useState(false);\n    const [selectedTime, setSelectedTime] = React.useState('');\n    const [selectedDay, setSelectedDay] = React.useState('');\n    const [availability, setAvailability] = React.useState([]);\n    const [bookedUp, setBookedUp] = React.useState([]);\n    const [tutorInfo, setTutorInfo] = React.useState([]);\n\n    const tutorRating = 4;\n    const numberOfReviews = 27\n\n    const bio= \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, \" +\n        \"sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. \" +\n        \"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. \" +\n        \"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. \" +\n        \"Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"\n\n    React.useEffect(() => {\n        getInfoTutor();\n    }, []); // Usa [] per eseguire solo al montaggio\n\n    function getInfoTutor() {\n        const url = `http://localhost:3000/teachers/${subject_name}/${tutor_id}`;\n        console.log(\"Fetching from URL:\", url);\n        fetch(url)\n            .then(response => response.json())\n            .then(data => {\n                console.log(\"Data fetched:\", data);\n                const temp = data.map(item => ({\n                    nome: item.nome,\n                    cognome: item.cognome,\n                    prezzo: item.prezzo,\n                    lingua: item.lingua,\n                    livello_istruzione: item.livello,\n                }));\n                console.log(\"Mapped data:\", temp);\n                setTutorInfo(temp);\n            })\n            .catch(error => {\n                console.error('Error fetching data', error);\n            });\n    }\n\n    const handleBookButtonClicked = (time, day) => {\n        setIsConfirmPrenotationOverlayOpen(!isConfirmPrenotationOverlayOpen);\n        setSelectedTime(time);\n        setSelectedDay(day);\n    };\n\n    // Verifica se tutorInfo ha dati e se è un array con almeno un elemento\n    const hasTutorInfo = tutorInfo.length > 0;\n\n    return (\n        <>\n            <div className=\"main-page-tutor\">\n                <div className=\"box tutor-box tutor-presentation\">\n                    <div className=\"tutor-details\">\n                        {hasTutorInfo ? (\n                            <>\n                                <img src={Img} alt=\"Tutor\" className=\"tutor-img\"/>\n                                <h5 className=\"tutor-name\">{tutorInfo[0].nome}</h5>\n                                <p className=\"tutor-surname\">{tutorInfo[0].cognome}</p>\n                                <div className=\"justify-content-between align-items-center tutor-rating\">\n                                    <div className=\"ratings\">\n                                        {Array.from({ length: 5 }, (_, i) => (\n                                            <i\n                                                key={i}\n                                                className={`fa fa-star ${i < Math.round(tutorRating) ? 'rating-color' : ''}`}\n                                            />\n                                        ))}\n                                        <p className=\"tutor-rating-value\">Rating: {tutorRating} ({numberOfReviews} recensioni)</p>\n                                    </div>\n                                </div>\n                                <p className=\"tutor-subject\">Materia selezionata: <b>{subject_name}</b></p>\n                                <p className=\"tutor-price\">Prezzo di una lezione: <b>{tutorInfo[0].prezzo}.00 €/h</b></p>\n                            </>\n                        ) : (\n                            <p>Caricamento informazioni del tutor...</p>\n                        )}\n                    </div>\n                </div>\n                <div className=\"box tutor-box tutor-info\">\n                    <div className=\"tutor-competences\">\n                        <h4 className=\"tutor-title\">Competenze e lingue</h4>\n                        {hasTutorInfo && (\n                            <p className=\"tutor-competences-item\">Livello di\n                                istruzione: {tutorInfo[0].livello_istruzione}</p>\n                        )}\n                        {hasTutorInfo && (\n                            <p className=\"tutor-languages-item\">Lingua in cui vengono erogate le\n                                lezioni: {tutorInfo[0].lingua}</p>\n                        )}\n                    </div>\n                    <hr className=\"centered-hr\"/>\n                    <div className=\"tutor-competences\">\n                        <h4 className=\"tutor-title-bio\">Descrizione</h4>\n                        <p className=\"tutor-bio\">{bio}</p>\n                    </div>\n                    <hr className=\"centered-hr\"/>\n                    <div className=\"tutor-reservation\">\n                        <h4 className=\"tutor-title-reservation\">Disponibilità e prenotazione</h4>\n                        <div className=\"tutor-reservation-table\">\n                            <Table schedule={availability} bookedUp={bookedUp}\n                                   onBookButtonClicked={handleBookButtonClicked}/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}