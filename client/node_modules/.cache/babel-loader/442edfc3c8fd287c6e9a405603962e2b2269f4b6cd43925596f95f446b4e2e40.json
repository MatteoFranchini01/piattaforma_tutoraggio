{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"../../css/subscribe.css\";import button from\"bootstrap/js/src/button\";import{useNavigate}from\"react-router-dom\";import hash from'hash.js';//TODO controllare che qui funzioni tutto\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function SubscribeOverlay(_ref){let{isOpen,onClose}=_ref;const navigate=useNavigate();const[selectedType,setSelectedType]=useState('');const[name,setName]=useState('');const[surname,setSurname]=useState('');const[email,setEmail]=useState('');const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState(\"\");const[emailError,setEmailError]=useState(\"\");const[passwordStrength,setPasswordStrength]=useState(\"\");useEffect(()=>{const buttons=document.querySelectorAll('.selectable-button');buttons.forEach(button=>{button.addEventListener('click',function(){buttons.forEach(b=>b.classList.remove('selected'));this.classList.add('selected');setSelectedType(this.dataset.value);});});return()=>{buttons.forEach(button=>button.removeEventListener('click',()=>{}));};},[isOpen]);async function checkUsername(username){let multiple_user_check=false;try{const response=await fetch(`http://localhost:3000/check_multiple_user?username=${username}`);const data=await response.json();multiple_user_check=data.result;console.log(\"Richiesta completata, con esisto: \",multiple_user_check);}catch(error){console.error('Error:',error);}return multiple_user_check;}const onClickHandler=async event=>{const multiple_user_check=await checkUsername(username);console.log(\"Multiple user \",multiple_user_check);if(selectedType===''||name===''||surname===''||email===''||username===''||password===''){setError(\"Compilare tutti i campi!\");}else if(!multiple_user_check){setError(\"Scegliere un nuovo username\");}else{const isPasswordValid=checkPasswordStrength(password);const isEmailValid=validateEmail(email);if(isPasswordValid&&isEmailValid){setError(\"\");let hashedPassword=hashPassword(password);const user_to_add={selectedType,name,surname,email,username,hashedPassword};console.log(user_to_add);fetch('http://localhost:3000/add_user',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(user_to_add),credentials:'include'}).then(response=>response.json()).then(data=>{console.log(data);setSelectedType(\"\");setName(\"\");setSurname(\"\");setEmail(\"\");setUsername(\"\");setPassword(\"\");if(data===\"User added to db\"){onClose(true);if(selectedType===\"student\"){/*alert(\"Registrazione avvenuta con successo!\")*/navigate(\"/registrationConfirmed\");}else{navigate(`/settingTeacherProfile/${username}`);}}else{alert(\"Registrazione non avvenuta!\");}}).catch(error=>console.log(error));}}};const validateEmail=email=>{const regex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(!regex.test(email)){setEmailError('Formato non valido.');return false;}else{setEmailError(\"\");return true;}};function hashPassword(password){return hash.sha256().update(password).digest('hex');}function checkPasswordStrength(password){let strength=0;let tips=\"\";if(password.length<8){tips+=\"La password è troppo corta.\\n \";}else{strength+=1;}if(password.match(/\\d/)){strength+=1;}else{tips+=\"Inserisci almeno un numero.\\n \";}if(password.match(/[^a-zA-Z\\d]/)){strength+=1;}else{tips+=\"Inserisci almeno un carattere speciale. \\n\";}const pwdLabel=document.getElementById(\"pwdStrength\");if(strength<2){pwdLabel.style.color=\"red\";setPasswordStrength(\"Oh no, troppo facile da indovinare! \\n\"+tips);return false;}else if(strength===2){pwdLabel.style.color=\"orange\";setPasswordStrength(\"Abbastanza difficile, ma manca ancora qualcosina! \"+tips);return false;}else if(strength===3){pwdLabel.style.color=\"green\";setPasswordStrength(\"Password difficile. Ottima scelta!\"+tips);return true;}return false;}return/*#__PURE__*/_jsx(_Fragment,{children:isOpen?/*#__PURE__*/_jsxs(\"div\",{className:\"subscribe-overlay\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"overlay_background\",onClick:onClose}),/*#__PURE__*/_jsxs(\"div\",{className:\"overlay_container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"subscribe-title\",children:\"Iscriviti\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"select-type\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"selectable-button\",\"data-value\":\"student\",children:\"Studente\"}),/*#__PURE__*/_jsx(\"button\",{className:\"selectable-button\",\"data-value\":\"teacher\",children:\"Insegnante\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-data\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control txt\",placeholder:\"Nome\",value:name,onChange:event=>setName(event.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control txt\",placeholder:\"Cognome\",value:surname,onChange:event=>setSurname(event.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control mail\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Email\",value:email,onChange:event=>setEmail(event.target.value)}),emailError&&/*#__PURE__*/_jsx(\"p\",{className:\"error-paragraph-subscribe\",children:emailError}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control username\",placeholder:\"Username\",value:username,onChange:event=>setUsername(event.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control pwd\",placeholder:\"Password\",value:password,onChange:event=>setPassword(event.target.value)}),/*#__PURE__*/_jsx(\"p\",{id:\"pwdStrength\",className:\"error-paragraph-subscribe-pwd\",children:passwordStrength})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-paragraph-subscribe\",children:error}),(selectedType==='student'||selectedType==='')&&/*#__PURE__*/_jsx(\"button\",{className:\"btn-submit\",type:\"button\",value:\"Submit\",onClick:onClickHandler,children:\"Iscriviti\"}),selectedType==='teacher'&&/*#__PURE__*/_jsx(\"button\",{className:\"proceed\",type:\"button\",value:\"proceed\",onClick:onClickHandler,children:\" Candidati \"})]})]}):null});}","map":{"version":3,"names":["React","useEffect","useState","button","useNavigate","hash","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SubscribeOverlay","_ref","isOpen","onClose","navigate","selectedType","setSelectedType","name","setName","surname","setSurname","email","setEmail","username","setUsername","password","setPassword","error","setError","emailError","setEmailError","passwordStrength","setPasswordStrength","buttons","document","querySelectorAll","forEach","addEventListener","b","classList","remove","add","dataset","value","removeEventListener","checkUsername","multiple_user_check","response","fetch","data","json","result","console","log","onClickHandler","event","isPasswordValid","checkPasswordStrength","isEmailValid","validateEmail","hashedPassword","hashPassword","user_to_add","method","headers","body","JSON","stringify","credentials","then","alert","catch","regex","test","sha256","update","digest","strength","tips","length","match","pwdLabel","getElementById","style","color","children","className","onClick","type","placeholder","onChange","target","id"],"sources":["/Users/matteofranchini/Documents/GitHub/piattaforma_tutoraggio/client/src/components/pages/subscribe.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport \"../../css/subscribe.css\";\nimport button from \"bootstrap/js/src/button\";\nimport {useNavigate} from \"react-router-dom\";\n\nimport hash from 'hash.js';\n\n//TODO controllare che qui funzioni tutto\nexport default function SubscribeOverlay ({isOpen, onClose}) {\n    const navigate = useNavigate()\n\n    const [selectedType, setSelectedType] = useState('');\n    const [name, setName] = useState('');\n    const [surname, setSurname] = useState('');\n    const [email, setEmail] = useState('');\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState(\"\");\n    const [emailError, setEmailError] = useState(\"\");\n    const [passwordStrength, setPasswordStrength] = useState(\"\");\n\n    useEffect(() => {\n        const buttons = document.querySelectorAll('.selectable-button');\n        buttons.forEach(button => {\n            button.addEventListener('click', function() {\n                buttons.forEach(b => b.classList.remove('selected'));\n                this.classList.add('selected');\n                setSelectedType(this.dataset.value);\n            });\n        });\n        return () => {\n            buttons.forEach(button => button.removeEventListener('click', () => {}));\n        };\n    }, [isOpen]);\n\n    async function checkUsername(username) {\n        let multiple_user_check = false;\n\n        try {\n            const response = await fetch(`http://localhost:3000/check_multiple_user?username=${username}`);\n            const data = await response.json();\n            multiple_user_check = data.result;\n            console.log(\"Richiesta completata, con esisto: \", multiple_user_check);\n        } catch (error) {\n            console.error('Error:', error);\n        }\n\n        return multiple_user_check;\n    }\n\n    const onClickHandler = async (event) => {\n        const multiple_user_check = await checkUsername(username);\n\n        console.log(\"Multiple user \", multiple_user_check);\n        if (selectedType === '' || name === '' || surname === '' || email === '' || username === '' || password === '') {\n            setError(\"Compilare tutti i campi!\")\n        } else if (!multiple_user_check) {\n            setError(\"Scegliere un nuovo username\")\n        } else {\n            const isPasswordValid = checkPasswordStrength(password);\n            const isEmailValid = validateEmail(email);\n            if(isPasswordValid && isEmailValid) {\n                setError(\"\")\n                let hashedPassword = hashPassword(password);\n                const user_to_add = {selectedType, name, surname, email, username, hashedPassword};\n                console.log(user_to_add);\n                fetch('http://localhost:3000/add_user', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n                    body: JSON.stringify(user_to_add),\n                    credentials: 'include'\n                })\n                    .then(response => response.json())\n                    .then(data => {\n                        console.log(data);\n\n                        setSelectedType(\"\");\n                        setName(\"\");\n                        setSurname(\"\");\n                        setEmail(\"\");\n                        setUsername(\"\");\n                        setPassword(\"\");\n\n                        if(data === \"User added to db\")\n                        {\n                            onClose(true)\n                            if(selectedType === \"student\"){\n                                /*alert(\"Registrazione avvenuta con successo!\")*/\n                                navigate(\"/registrationConfirmed\");\n                            }\n                            else{\n                                navigate(`/settingTeacherProfile/${username}`)\n                            }\n                        }\n                        else{\n                            alert(\"Registrazione non avvenuta!\")\n                        }\n\n                    })\n                    .catch(error => console.log(error))\n\n            }\n        }\n    }\n\n    const validateEmail = (email) => {\n        const regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!regex.test(email)) {\n            setEmailError('Formato non valido.');\n            return false\n        } else {\n            setEmailError(\"\")\n            return true\n        }\n    }\n\n    function hashPassword(password) {\n        return hash.sha256().update(password).digest('hex');\n    }\n\n    function checkPasswordStrength(password) {\n        let strength = 0;\n        let tips = \"\";\n\n        if (password.length < 8) {\n            tips += \"La password è troppo corta.\\n \";\n        } else {\n            strength += 1;\n        }\n\n        if (password.match(/\\d/)) {\n            strength += 1;\n        } else {\n            tips += \"Inserisci almeno un numero.\\n \";\n        }\n\n        if (password.match(/[^a-zA-Z\\d]/)) {\n            strength += 1;\n        } else {\n            tips += \"Inserisci almeno un carattere speciale. \\n\";\n        }\n\n        const pwdLabel = document.getElementById(\"pwdStrength\");\n\n        if (strength < 2) {\n            pwdLabel.style.color = \"red\";\n            setPasswordStrength(\"Oh no, troppo facile da indovinare! \\n\" + tips);\n            return false\n        } else if (strength === 2) {\n            pwdLabel.style.color = \"orange\";\n            setPasswordStrength(\"Abbastanza difficile, ma manca ancora qualcosina! \" + tips);\n            return false\n        } else if (strength === 3) {\n            pwdLabel.style.color = \"green\";\n            setPasswordStrength(\"Password difficile. Ottima scelta!\" + tips);\n            return true\n        }\n        return false;\n    }\n\n    return (\n        <>\n            {\n                isOpen? (\n                    <div className=\"subscribe-overlay\">\n                        <div className=\"overlay_background\" onClick={onClose}></div>\n                        <div className=\"overlay_container\">\n                            <h2 className=\"subscribe-title\">Iscriviti</h2>\n                            <div className=\"select-type\">\n                                <button className=\"selectable-button\" data-value=\"student\">Studente</button>\n                                <button className=\"selectable-button\" data-value=\"teacher\">Insegnante</button>\n                            </div>\n                            <div className=\"user-data\">\n                                <input type=\"text\" className=\"form-control txt\" placeholder=\"Nome\" value={name} onChange={(event) => setName(event.target.value)}/>\n                                <input type=\"text\" className=\"form-control txt\" placeholder=\"Cognome\" value={surname} onChange={(event) => setSurname(event.target.value)}/>\n                                <input type=\"email\" className=\"form-control mail\" id=\"exampleInputEmail1\"\n                                       aria-describedby=\"emailHelp\" placeholder=\"Email\" value={email} onChange={(event) => setEmail(event.target.value)}/>\n                                {emailError && <p className=\"error-paragraph-subscribe\">{emailError}</p>}\n                                <input type=\"text\" className=\"form-control username\" placeholder=\"Username\" value={username} onChange={(event) => setUsername(event.target.value)}/>\n                                <input type=\"password\" className=\"form-control pwd\" placeholder=\"Password\" value={password} onChange={(event) => setPassword(event.target.value)}/>\n                                <p id=\"pwdStrength\" className=\"error-paragraph-subscribe-pwd\">{passwordStrength}</p>\n                            </div>\n                            {error && <p className=\"error-paragraph-subscribe\">{error}</p>}\n\n                            {(selectedType === 'student' || selectedType==='') && (\n                                <button className=\"btn-submit\" type=\"button\" value=\"Submit\" onClick={onClickHandler}>Iscriviti</button>\n                            )}\n                            {selectedType === 'teacher' && (\n                                <button className=\"proceed\" type=\"button\" value=\"proceed\" onClick={onClickHandler}> Candidati </button>\n                            )}\n                        </div>\n                    </div>\n                ) : null\n            }\n        </>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}